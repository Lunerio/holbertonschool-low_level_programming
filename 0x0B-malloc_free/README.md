Working with dynamic memory allocation, with malloc and free